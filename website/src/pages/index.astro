---
import Navigation from '../components/Navigation.astro';
import Hero from '../components/Hero.astro';
import FeatureGrid from '../components/FeatureGrid.astro';
import PhilosophyStrip from '../components/PhilosophyStrip.astro';
import WhoIsItFor from '../components/WhoIsItFor.astro';
import CodePreview from '../components/CodePreview.astro';
import ChaptersGrid from '../components/ChaptersGrid.astro';
import SiteFooter from '../components/SiteFooter.astro';

const base = import.meta.env.BASE_URL;

const exampleCode = `# Reusable base for Astro/Tailwind sites
template "AstroSiteBase":
  stack:
    language = "TypeScript"
    styling  = "Tailwind CSS 4"
    hosting  = "Vercel"
  policy Accessibility:
    rule "All interactive elements have aria attributes" severity=high

# Marketing + docs website
system "MySite" extends "AstroSiteBase":
  version = "1.0.0"
  stack:
    framework     = "Astro 5"
    documentation = "Starlight 0.32"

  intent:
    primary  = "Launch page for my SaaS product"
    outcomes = [
      "Hero with value proposition and CTAs",
      "Feature grid with 6 key benefits",
      "Pricing section",
      "Blog powered by Starlight"
    ]
    out_of_scope = ["User auth", "Payment processing"]

  module UIComponents:
    implements = [HeroComponent, FeatureGridComponent, PricingComponent]
    artifacts  = ["src/components/"]

  pipeline "Production":
    step Build:
      require = "astro build"
      gate    = "Static site built to dist/"
    step Deploy:
      require = "Push to main triggers Vercel"
      gate    = "Site live with valid OG metadata"`;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SODL — Specification Orchestration Definition Language</title>
    <meta
      name="description"
      content="SODL gives AI agents structured intent, constraints, and architectural decisions — so they generate the right code, every time."
    />
    <!-- OG / social -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="SODL — Specification Orchestration Definition Language" />
    <meta
      property="og:description"
      content="Turn AI code generation from guesswork into engineering."
    />
    <meta property="og:image" content="https://sodl.space/og-card.png" />
    <meta property="og:url" content="https://sodl.space/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="SODL" />
    <meta
      name="twitter:description"
      content="Turn AI code generation from guesswork into engineering."
    />
    <meta name="twitter:image" content="https://sodl.space/og-card.png" />
    <!-- Sitemap / canonical -->
    <link rel="canonical" href="https://sodl.space/" />
    <link rel="sitemap" href={`${base}sitemap-index.xml`} />
    <!-- Styles -->
    <style>
      @import "../styles/global.css";
    </style>
  </head>

  <body class="landing-page bg-neutral-950 text-neutral-100 antialiased">
    <Navigation currentPath="/" />

    <main id="main-content">
      <!-- Hero -->
      <Hero
        tagline="Turn AI code generation from guesswork into engineering"
        subtitle="SODL gives AI agents structured intent, constraints, and architectural decisions — so they generate the right code, every time."
        primaryCTA="Get Started"
        secondaryCTA="View on GitHub"
        primaryCTAHref={`${base}getting-started/`}
        secondaryCTAHref="https://github.com/sodlspace/sodl-impl-v1"
      />

      <!-- Features -->
      <FeatureGrid />

      <!-- Philosophy pipeline -->
      <PhilosophyStrip />

      <!-- Who is it for -->
      <WhoIsItFor />

      <!-- Code preview -->
      <section
        class="px-6 py-20"
        aria-labelledby="code-preview-heading"
      >
        <div class="mx-auto max-w-4xl">
          <div class="mb-10 text-center">
            <h2
              id="code-preview-heading"
              class="text-3xl font-bold text-white sm:text-4xl"
            >
              SODL in action
            </h2>
            <p class="mt-4 text-lg text-neutral-400">
              One spec file captures everything an AI needs to build your project correctly.
            </p>
          </div>

          <CodePreview title="my-site.sodl">
            <pre class="whitespace-pre text-sm leading-relaxed"><code>{exampleCode}</code></pre>
          </CodePreview>

          <div class="mt-8 flex justify-center">
            <a
              href={`${base}getting-started/`}
              class="inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white hover:bg-indigo-500 transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500"
            >
              Write your first spec
              <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
              </svg>
            </a>
          </div>
        </div>
      </section>
      <!-- Browse all docs -->
      <ChaptersGrid />
    </main>

    <SiteFooter />
  </body>
</html>

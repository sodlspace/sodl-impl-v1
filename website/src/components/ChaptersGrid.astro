---
interface Chapter {
  label: string;
  href: string;
  description: string;
  badge?: string;
}

const base = import.meta.env.BASE_URL;

const chapters: Chapter[] = [
  {
    label: 'Getting Started',
    href: `${base}getting-started/`,
    description: 'Install, write your first spec, and run the compiler.',
  },
  {
    label: 'Why SODL',
    href: `${base}why-sodl/`,
    description: 'The problem with free-form prompts and how structured specs fix it.',
  },
  {
    label: 'Use Cases',
    href: `${base}use-cases/`,
    description: 'Where SODL is especially effective â€” REST APIs, microservices, data pipelines, and more.',
  },
  {
    label: 'Language Reference',
    href: `${base}language/`,
    description: 'Six top-level constructs, file structure, and links to detailed pages.',
  },
  {
    label: 'Syntax',
    href: `${base}language/syntax/`,
    description: 'Types, blocks, policy rules, pipeline output values, and naming conventions.',
  },
  {
    label: 'Constructs',
    href: `${base}language/constructs/`,
    description: 'Detailed reference for template, system, interface, module, policy, and pipeline.',
  },
  {
    label: 'Compiler & Output',
    href: `${base}language/compiler-output/`,
    description: 'How sodl compile works today and the planned structured output format.',
  },
  {
    label: 'Examples',
    href: `${base}examples/`,
    description: '17+ complete specs across web apps, REST APIs, microservices, CLI tools, and more.',
  },
  {
    label: 'Best Practices',
    href: `${base}best-practices/`,
    description: 'Module design, policy writing, acceptance tests, pipelines, and a pre-compile checklist.',
  },
  {
    label: 'Contact',
    href: `${base}contact/`,
    description: 'GitHub repository, email, and project status.',
  },
];

const arrowIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" /></svg>`;
---

<section class="px-6 py-20 border-t border-neutral-800" aria-labelledby="chapters-heading">
  <div class="mx-auto max-w-7xl">
    <div class="text-center mb-12">
      <h2
        id="chapters-heading"
        class="text-3xl font-bold text-white sm:text-4xl"
      >
        Browse the docs
      </h2>
      <p class="mt-4 text-lg text-neutral-400 max-w-2xl mx-auto">
        Everything you need to go from first spec to production-ready AI generation.
      </p>
    </div>

    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3" role="list">
      {chapters.map((chapter) => (
        <div role="listitem">
          <a
            href={chapter.href}
            class="group flex h-full flex-col justify-between rounded-xl border border-neutral-800 bg-neutral-900/50 p-6 hover:border-indigo-500/40 hover:bg-indigo-950/20 transition-all duration-200"
            aria-label={chapter.label}
          >
            <div>
              <h3 class="mb-2 text-base font-semibold text-white group-hover:text-indigo-300 transition-colors">
                {chapter.label}
              </h3>
              <p class="text-sm leading-relaxed text-neutral-400">
                {chapter.description}
              </p>
            </div>
            <div class="mt-4 flex items-center gap-1 text-xs font-medium text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity">
              <span>Read more</span>
              <Fragment set:html={arrowIcon} />
            </div>
          </a>
        </div>
      ))}
    </div>
  </div>
</section>
